<!DOCTYPE html >
<html lang="en" ng-app="angularListApplication" >
<head >
  <title >Lists Of Things</title >
  <link href="../libs/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" >
  <link href="../css/main.css" rel="stylesheet" >
</head >

<body >
<nav class="navbar navbar-inverse navbar-fixed-top" >
  <div class="container" >
    <div class="navbar-header" >
      <a class="navbar-brand"
         href="/" >Lists Of Things
      </a >
    </div >
  </div >
</nav >

<div class="container main-content" ng-controller="loopController as loopCtrl">

    <div class="row" >
        <div class="col-md-12" >
            <form class="form-inline well well-sm" >
                <span class="glyphicon glyphicon-search" ></span >

                <div class="form-group" >
                    <input type="text"
                           class="form-control"
                           id="name"
                           ng-model="loopCtrl.search.$"
                           placeholder="Search name..."
                    />
                </div >

            </form >
        </div >
    </div >

    <div class="row" >
        <div class="col-md-8" >

            <table class="table table-bordered" >

                <tr >
                    <th >#</th >
                    <th >Name</th >
                    <th >Email</th >
                    <th >Birthday</th >
                </tr >

                <tr ng-repeat="person in selectedPersons = (loopCtrl.persons | filter:loopCtrl.search.$)"
                    ng-style="{
				 'background-color': person.email == loopCtrl.selectedPerson.email ? 'lightgray' : ''
				 }"
                    ng-click="loopCtrl.selectPerson(person, $index)" >
                    <td >{{ $index+1 }}</td >
                    <td >{{ person.name }}</td >
                    <td >{{ person.email }}</td >
                    <td >{{ person.birthdate | date:"longDate" }}</td >
                </tr >

                <tr ng-show="selectedPersons == 0">
                    <td colspan="4">
                        <div class=" alert alert-info">
                            <p class="text-center">
                                No results found for the search term {{ search }}
                            </p>
                        </div>
                    </td>
                </tr>

            </table >

        </div >
        <div class="col-md-4" >

            <div class="panel panel-default" >
                <div class="panel-heading" >Details</div >
                <div class="panel-body" >

                    <dl >
                        <dt >Name</dt >
                        <dd >{{loopCtrl.selectedPerson.name}}</dd >
                        <dt >Email</dt >
                        <dd >{{loopCtrl.selectedPerson.email}}</dd >
                        <dt >Birthday</dt >
                        <dd >{{loopCtrl.selectedPerson.birthdate | date:"longDate"}}</dd >
                        <dt >Phonenumber</dt >
                        <dd >{{loopCtrl.selectedPerson.phonenumber}}</dd >
                        <dt >Address</dt >
                        <dd >{{loopCtrl.selectedPerson.address}}</dd >
                        <dt >City</dt >
                        <dd >{{loopCtrl.selectedPerson.city}}</dd >
                        <dt >Country</dt >
                        <dd >{{loopCtrl.selectedPerson.country}}</dd >
                    </dl >

                </div >
            </div >

        </div >
    </div >

</div >


<script src="../libs/angular/angular.min.js" ></script >
<script src="../app/JS/Modules/main.js" ></script >
</body >
</html >
